"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[423],{3087:function(e,n,t){t.d(n,{Z:function(){return s}});var a="Container_container__VVOCq",r=t(184),s=function(e){var n=e.children;return(0,r.jsx)("div",{className:a,children:n})}},2745:function(e,n,t){t.d(n,{Z:function(){return o}});var a="Form_form__e1yzW",r="Form_button__8NOIT",s=t(184),o=function(e){var n=e.buttonCaption,t=e.onSubmit,o=e.children;return(0,s.jsxs)("form",{className:a,onSubmit:t,children:[o,(0,s.jsx)("button",{className:r,type:"submit",children:n})]})}},9602:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(2791),r=t(5984),s="Input_label__NXpCD",o="Input_input__E5rzA",c=t(184),i=function(e){var n=e.onChange,t=e.type,i=void 0===t?"text":t,l=e.name,u=void 0===l?"":l,d=e.label,m=e.title,h=e.pattern,f=e.required,x=void 0===f||f,p=e.minLength,v=e.value,b=(0,a.useRef)((0,r.x0)());return(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)("label",{htmlFor:b.current,className:s,children:d}),(0,c.jsx)("input",{id:b.current,className:o,type:i,name:u,value:v,pattern:h,title:m,required:x,onChange:n,minLength:p})]})}},7111:function(e,n,t){t.d(n,{Z:function(){return s}});var a="Section_section__Z2PLw",r=t(184),s=function(e){var n=e.children;return(0,r.jsx)("section",{className:a,children:n})}},3423:function(e,n,t){t.r(n),t.d(n,{default:function(){return q}});var a=t(2791),r=t(6355),s="ContactItem_contactItem__Z4FuP",o="ContactItem_caption__9hsJU",c="ContactItem_buttonContainer__HxbMT",i="ContactItem_button__IRFBz",l=t(9434),u=t(9713),d=t(8115),m=t(696),h=t(1413),f=t(5861),x=t(9439),p=t(7757),v=t.n(p),b=t(5984),j=function(e){return e.contacts},_=t(4133),C=t(9602),N=t(2745),g=t(184),y=function(e){var n,t,r=e.currentContact,s=e.onCloseModal,o=(0,a.useState)(null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:""),c=(0,x.Z)(o,2),i=c[0],u=c[1],m=(0,a.useState)(null!==(t=null===r||void 0===r?void 0:r.number)&&void 0!==t?t:""),p=(0,x.Z)(m,2),y=p[0],Z=p[1],F=(0,l.v9)(j).items,k=(0,l.I0)(),I=function(){for(var e={},n=0,t=Object.entries({name:i,number:y});n<t.length;n++){var a=t[n];(null===r||void 0===r?void 0:r[a[0]])!==a[1]&&(e[a[0]]=a[1])}return e},w=function(){var e=(0,f.Z)(v().mark((function e(n){var t,a;return v().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!F.some((function(e){var n=e.name;return n.toLowerCase()===i.toLowerCase()&&n.toLowerCase()!==(null===r||void 0===r?void 0:r.name.toLowerCase())}))){e.next=4;break}return(0,_.N)("".concat(i," is already in contact"),"warning"),e.abrupt("return");case 4:if(t=I(),Object.keys(t).length){e.next=8;break}return(0,_.N)("Update at least one field!","failure"),e.abrupt("return");case 8:return e.next=10,k(r?(0,d.Tk)({contactId:r.contactId,updData:t}):(0,d.uK)((0,h.Z)({id:(0,b.x0)()},t)));case 10:if(!(a=e.sent).error){e.next=14;break}return(0,_.N)(a.payload.message,"failure",5e3),e.abrupt("return");case 14:A(),s();case 16:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),L=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":u(a);break;case"number":Z(a);break;default:return}},A=function(){u(""),Z("")};return(0,g.jsxs)(N.Z,{buttonCaption:"".concat(r?"Update":"Add"," contact"),onSubmit:w,children:[(0,g.jsx)(C.Z,{label:"Name",type:"text",name:"name",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:L,value:i}),(0,g.jsx)(C.Z,{label:"Number",type:"tel",name:"number",pattern:"^(\\+?[0-9.\\(\\)\\-\\s]*)$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:L,value:y})]})},Z=function(e){var n=e.name,t=e.number,a=e.contactId,h=(0,u.s)(),f=h.showModal,x=h.toggleModal,p=h.backdropRef,v=h.contentRef,b=(0,l.I0)();return(0,g.jsxs)("li",{className:s,children:[(0,g.jsxs)("div",{children:[(0,g.jsxs)("p",{className:o,children:["Name: ",n]}),(0,g.jsxs)("p",{className:o,children:["Number: ",t]})]}),(0,g.jsxs)("div",{className:c,children:[(0,g.jsx)("button",{type:"button",className:i,onClick:x,children:(0,g.jsx)(r.tU3,{})}),(0,g.jsx)("button",{type:"button",className:i,onClick:function(){return b((0,d.GK)(a))},children:(0,g.jsx)(r.Xm5,{})})]}),f&&(0,g.jsx)(m.Z,{onClose:x,backdropRef:p,contentRef:v,children:(0,g.jsx)(y,{onCloseModal:x,currentContact:{name:n,number:t,contactId:a}})})]})},F="ContactList_contactList__UFVCg",k=function(e){return e.filter},I=function(){var e=(0,l.v9)(j).items,n=(0,l.v9)(k);return(0,g.jsx)("ul",{className:F,children:e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){var n=e.id,t=e.name,a=e.number;return(0,g.jsx)(Z,{name:t,number:a,contactId:n},n)}))})},w="ControlPanel_controlPanelBox__HVdks",L="AddButton_addButton__err1-",A=t(6856),M=function(){var e=(0,u.s)(),n=e.showModal,t=e.toggleModal,a=e.backdropRef,r=e.contentRef;return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("button",{className:L,onClick:t,children:(0,g.jsx)(A.$3V,{size:40})}),n&&(0,g.jsx)(m.Z,{onClose:t,backdropRef:a,contentRef:r,children:(0,g.jsx)(y,{onCloseModal:t})})]})},R=function(){return(0,g.jsx)("div",{className:w,children:(0,g.jsx)(M,{})})},z="Filter_filterBox__A-UPt",B=t(3797),U=function(){var e=(0,l.v9)(k),n=(0,l.I0)();return(0,g.jsx)("div",{className:z,children:(0,g.jsx)(C.Z,{label:"Find contacts by name",type:"text",name:"filter",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(e){var t=e.target.value;return n((0,B.M)(t))},value:e})})},P=t(7111),S=t(3087),V="App_info__qU+g4",q=function(){var e=(0,l.I0)(),n=(0,l.v9)(j),t=n.items,r=n.isLoading,s=n.error;return(0,a.useEffect)((function(){e((0,d.yF)())}),[e]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("h1",{className:"visually-hidden",children:"Contacts"}),(0,g.jsx)(P.Z,{children:(0,g.jsxs)(S.Z,{children:[(0,g.jsx)("h2",{className:"visually-hidden",children:"Control panel"}),(0,g.jsx)(R,{})]})}),(0,g.jsx)(P.Z,{children:(0,g.jsxs)(S.Z,{children:[(0,g.jsx)("h2",{className:"visually-hidden",children:"Filter"}),(0,g.jsx)(U,{})]})}),(0,g.jsx)(P.Z,{children:(0,g.jsxs)(S.Z,{children:[(0,g.jsx)("h2",{className:"visually-hidden",children:"Contact list"}),s||r||t.length?(0,g.jsx)(I,{}):(0,g.jsx)("p",{className:V,children:"The contact list is empty!"})]})})]})}}}]);
//# sourceMappingURL=423.3e591f48.chunk.js.map