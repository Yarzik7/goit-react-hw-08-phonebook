"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[811],{2745:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(5861),r=t(9439),s=t(7757),o=t.n(s),c=t(2791),i="Form_form__e1yzW",u="Form_button__8NOIT",l=t(184),d=function(e){var n=e.buttonCaption,t=e.onSubmit,s=e.children,d=(0,c.useState)(!1),m=(0,r.Z)(d,2),f=m[0],h=m[1],x=function(){var e=(0,a.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),h(!0),e.next=4,t();case 4:h(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,l.jsxs)("form",{className:i,onSubmit:x,children:[s,(0,l.jsx)("button",{disabled:f,className:u,type:"submit",children:n})]})}},9602:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(2791),r=t(5984),s="Input_label__NXpCD",o="Input_input__E5rzA",c=t(184),i=function(e){var n=e.onChange,t=e.type,i=void 0===t?"text":t,u=e.name,l=void 0===u?"":u,d=e.label,m=e.title,f=e.pattern,h=e.required,x=void 0===h||h,p=e.minLength,v=e.value,_=(0,a.useRef)((0,r.x0)());return(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)("label",{htmlFor:_.current,className:s,children:d}),(0,c.jsx)("input",{id:_.current,className:o,type:i,name:l,value:v,pattern:f,title:m,required:x,onChange:n,minLength:p})]})}},2819:function(e,n,t){t.d(n,{Z:function(){return l}});var a="Head_head__UoJYS",r=t(184),s=function(e){var n=e.headText,t=e.headType,s=void 0===t?"h1":t,o=e.cssClass;return(0,r.jsx)(s,{className:null!==o&&void 0!==o?o:a,children:n})},o="Section_section__Z2PLw",c=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,c=e.headType,i=void 0===c?"h2":c,u=e.cssHeadClass,l=e.children;return(0,r.jsxs)("section",{className:o,children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:u}),l]})},i="Container_container__VVOCq",u=function(e){var n=e.children;return(0,r.jsx)("div",{className:i,children:n})},l=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,o=e.headType,i=void 0===o?"h2":o,l=e.cssHeadClass,d=e.children;return(0,r.jsx)(c,{isHeadHas:!1,children:(0,r.jsxs)(u,{children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:l}),d]})})}},811:function(e,n,t){t.r(n),t.d(n,{default:function(){return Q}});var a=t(2791),r=t(5861),s=t(9439),o=t(7757),c=t.n(o),i=t(6355),u="ContactItem_contactItem__Z4FuP",l="ContactItem_caption__9hsJU",d="ContactItem_buttonContainer__HxbMT",m="ContactItem_button__IRFBz",f=t(9434),h=t(8115),x=t(6916),p=function(e){return e.filter},v=function(e){return e.contacts.items},_=function(e){return e.contacts.isDeleting},C=function(e){return e.contacts.isLoading},b=function(e){return e.contacts.error},j=function(e){return e.contacts.currentContactId},N=(0,x.P1)([p,v],(function(e,n){return n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))})),y=t(7202),g=t(696),k=t(1413),Z=t(5984),F=t(4133),T=t(9602),w=t(2745),I=t(184),A=function(e){var n,t,o=e.currentContact,i=e.onCloseModal,u=(0,a.useState)(null!==(n=null===o||void 0===o?void 0:o.name)&&void 0!==n?n:""),l=(0,s.Z)(u,2),d=l[0],m=l[1],x=(0,a.useState)(null!==(t=null===o||void 0===o?void 0:o.number)&&void 0!==t?t:""),p=(0,s.Z)(x,2),_=p[0],C=p[1],b=(0,f.v9)(v),j=(0,f.I0)(),N=function(){for(var e={},n=0,t=Object.entries({name:d,number:_});n<t.length;n++){var a=t[n];(null===o||void 0===o?void 0:o[a[0]])!==a[1]&&(e[a[0]]=a[1])}return e},y=function(){var e=(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!b.some((function(e){var n=e.name;return n.toLowerCase()===d.toLowerCase()&&n.toLowerCase()!==(null===o||void 0===o?void 0:o.name.toLowerCase())}))){e.next=3;break}return(0,F.N)("".concat(d," is already in contact"),"warning"),e.abrupt("return");case 3:if(n=N(),Object.keys(n).length){e.next=7;break}return(0,F.N)("Update at least one field!","failure"),e.abrupt("return");case 7:return e.next=9,j(o?(0,h.Tk)({contactId:o.contactId,updData:n}):(0,h.uK)((0,k.Z)({id:(0,Z.x0)()},n)));case 9:if(!(t=e.sent).error){e.next=13;break}return(0,F.N)(t.payload.message,"failure"),e.abrupt("return");case 13:A(),i();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":m(a);break;case"number":C(a);break;default:return}},A=function(){m(""),C("")};return(0,I.jsxs)(w.Z,{buttonCaption:"".concat(o?"Update":"Add"," contact"),onSubmit:y,children:[(0,I.jsx)(T.Z,{label:"Name",type:"text",name:"name",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:g,value:d}),(0,I.jsx)(T.Z,{label:"Number",type:"tel",name:"number",pattern:"^(\\+?[0-9.\\(\\)\\-\\s]*)$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:g,value:_})]})},H="Confirm_confirm__8ag-K",L="Confirm_confirm__head__6AWcP",M="Confirm_confirm__text__qdNcH",R="Confirm_confirm__buttonBox__8VL3r",S="Confirm_confirm__button__px4ma",z=function(e){var n=e.contactName,t=e.onConfirmed,a=e.onNotConfirmed;return(0,I.jsxs)("div",{className:H,children:[(0,I.jsx)("h3",{className:L,children:"Confirm"}),(0,I.jsx)("p",{className:M,children:"Do you really want to delete the contact ".concat(n,"?")}),(0,I.jsxs)("div",{className:R,children:[(0,I.jsx)("button",{className:S,onClick:t,children:"Yes"}),(0,I.jsx)("button",{className:S,onClick:a,children:"No"})]})]})},B=t(5323),P=function(e){var n=e.name,t=e.number,o=e.contactId,x=(0,y.Jf)(),p=x.showModal,v=x.backdropRef,C=x.contentRef,b=x.onAnimationEnd,N=x.setAfterCloseAnimationHandler,k=x.onToggleModal,Z=(0,a.useState)(null),T=(0,s.Z)(Z,2),w=T[0],H=T[1],L=(0,f.I0)(),M=(0,f.v9)(_),R=(0,f.v9)(j),S=function(e){var n=e.currentTarget,t=n.tagName,a=n.name;"BUTTON"===t&&(H(a),k())},P=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L((0,h.GK)(o));case 2:if(!(n=e.sent).error){e.next=6;break}return(0,F.N)(n.payload.message,"failure"),e.abrupt("return");case 6:(0,F.N)("Successful!","succsess");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)("li",{className:u,children:[(0,I.jsxs)("div",{children:[(0,I.jsxs)("p",{className:l,children:["Name: ",n]}),(0,I.jsxs)("p",{className:l,children:["Number: ",t]})]}),(0,I.jsxs)("div",{className:d,children:[(0,I.jsx)("button",{disabled:M,type:"button",name:"update",className:m,onClick:S,children:(0,I.jsx)(i.tU3,{})}),(0,I.jsx)("button",{disabled:M,type:"button",name:"delete",className:m,onClick:S,children:M&&o===R?(0,I.jsx)(B.a,{size:"20px",color:"var(--primary-dark-color)",secondaryColor:"var(--primary-dark-color)"}):(0,I.jsx)(i.Xm5,{})})]}),p&&(0,I.jsxs)(g.Z,{onClose:k,onAnimationEnd:b,backdropRef:v,contentRef:C,children:["delete"===w&&(0,I.jsx)(z,{contactName:n,onConfirmed:function(){N(P),k()},onNotConfirmed:k}),"update"===w&&(0,I.jsx)(A,{onCloseModal:k,currentContact:{name:n,number:t,contactId:o}})]})]})},U="ContactList_contactList__UFVCg",J=function(){var e=(0,f.v9)(N);return(0,I.jsx)("ul",{className:U,children:e.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,I.jsx)(P,{name:t,number:a,contactId:n},n)}))})},E="ControlPanel_controlPanelBox__HVdks",V="AddButton_addButton__err1-",D=t(6856),O=function(){var e=(0,y.Jf)(),n=e.showModal,t=e.backdropRef,a=e.contentRef,r=e.onAnimationEnd,s=e.onToggleModal;return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("button",{className:V,onClick:s,children:(0,I.jsx)(D.$3V,{size:40})}),n&&(0,I.jsx)(g.Z,{onClose:s,onAnimationEnd:r,backdropRef:t,contentRef:a,children:(0,I.jsx)(A,{onCloseModal:s})})]})},q=function(){return(0,I.jsx)("div",{className:E,children:(0,I.jsx)(O,{})})},$="Filter_filterBox__A-UPt",K=t(3797),W=function(){var e=(0,f.v9)(p),n=(0,f.I0)();return(0,I.jsx)("div",{className:$,children:(0,I.jsx)(T.Z,{label:"Find contacts by name",type:"text",name:"filter",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(e){var t=e.target.value;return n((0,K.M)(t))},value:e})})},X=t(2819),Y="Message_message__fh13J",G=function(e){var n=e.message;return(0,I.jsx)("p",{className:Y,children:n})},Q=function(){var e=(0,f.I0)(),n=(0,f.v9)(v),t=(0,f.v9)(C),r=(0,f.v9)(b);return(0,a.useEffect)((function(){e((0,h.yF)())}),[e]),(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("h1",{className:"visually-hidden",children:"Contacts"}),(0,I.jsx)(X.Z,{headText:"Control panel",cssHeadClass:"visually-hidden",children:(0,I.jsx)(q,{})}),(0,I.jsx)(X.Z,{headText:"Filter",cssHeadClass:"visually-hidden",children:(0,I.jsx)(W,{})}),(0,I.jsx)(X.Z,{headText:"Contact list",cssHeadClass:"visually-hidden",children:r||t||n.length?(0,I.jsx)(J,{}):(0,I.jsx)(G,{message:"The contact list is empty!"})})]})}}}]);
//# sourceMappingURL=811.609b7d51.chunk.js.map