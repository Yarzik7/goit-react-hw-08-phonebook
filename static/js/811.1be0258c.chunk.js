"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[811],{2745:function(e,n,t){t.d(n,{Z:function(){return d}});var a=t(5861),r=t(9439),s=t(7757),o=t.n(s),c=t(2791),i="Form_form__e1yzW",l="Form_button__8NOIT",u=t(184),d=function(e){var n=e.buttonCaption,t=e.onSubmit,s=e.children,d=(0,c.useState)(!1),m=(0,r.Z)(d,2),h=m[0],f=m[1],x=function(){var e=(0,a.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),f(!0),e.next=4,t();case 4:f(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,u.jsxs)("form",{className:i,onSubmit:x,children:[s,(0,u.jsx)("button",{disabled:h,className:l,type:"submit",children:n})]})}},9602:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(2791),r=t(5984),s="Input_label__NXpCD",o="Input_input__E5rzA",c=t(184),i=function(e){var n=e.onChange,t=e.type,i=void 0===t?"text":t,l=e.name,u=void 0===l?"":l,d=e.label,m=e.title,h=e.pattern,f=e.required,x=void 0===f||f,p=e.minLength,v=e.value,_=(0,a.useRef)((0,r.x0)());return(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)("label",{htmlFor:_.current,className:s,children:d}),(0,c.jsx)("input",{id:_.current,className:o,type:i,name:u,value:v,pattern:h,title:m,required:x,onChange:n,minLength:p})]})}},2819:function(e,n,t){t.d(n,{Z:function(){return u}});var a="Head_head__UoJYS",r=t(184),s=function(e){var n=e.headText,t=e.headType,s=void 0===t?"h1":t,o=e.cssClass;return(0,r.jsx)(s,{className:null!==o&&void 0!==o?o:a,children:n})},o="Section_section__Z2PLw",c=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,c=e.headType,i=void 0===c?"h2":c,l=e.cssHeadClass,u=e.children;return(0,r.jsxs)("section",{className:o,children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:l}),u]})},i="Container_container__VVOCq",l=function(e){var n=e.children;return(0,r.jsx)("div",{className:i,children:n})},u=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,o=e.headType,i=void 0===o?"h2":o,u=e.cssHeadClass,d=e.children;return(0,r.jsx)(c,{isHeadHas:!1,children:(0,r.jsxs)(l,{children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:u}),d]})})}},811:function(e,n,t){t.r(n),t.d(n,{default:function(){return X}});var a=t(2791),r=t(5861),s=t(9439),o=t(7757),c=t.n(o),i=t(6355),l="ContactItem_contactItem__Z4FuP",u="ContactItem_caption__9hsJU",d="ContactItem_buttonContainer__HxbMT",m="ContactItem_button__IRFBz",h=t(9434),f=t(8115),x=function(e){return e.contacts},p=function(e){return e.contacts.isDeleting},v=function(e){return e.contacts.currentContactId},_=t(7289),b=t(696),C=t(1413),j=t(5984),N=t(4133),y=t(9602),g=t(2745),k=t(184),Z=function(e){var n,t,o=e.currentContact,i=e.onCloseModal,l=(0,a.useState)(null!==(n=null===o||void 0===o?void 0:o.name)&&void 0!==n?n:""),u=(0,s.Z)(l,2),d=u[0],m=u[1],p=(0,a.useState)(null!==(t=null===o||void 0===o?void 0:o.number)&&void 0!==t?t:""),v=(0,s.Z)(p,2),_=v[0],b=v[1],Z=(0,h.v9)(x).items,w=(0,h.I0)(),F=function(){for(var e={},n=0,t=Object.entries({name:d,number:_});n<t.length;n++){var a=t[n];(null===o||void 0===o?void 0:o[a[0]])!==a[1]&&(e[a[0]]=a[1])}return e},I=function(){var e=(0,r.Z)(c().mark((function e(){var n,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z.some((function(e){var n=e.name;return n.toLowerCase()===d.toLowerCase()&&n.toLowerCase()!==(null===o||void 0===o?void 0:o.name.toLowerCase())}))){e.next=3;break}return(0,N.N)("".concat(d," is already in contact"),"warning"),e.abrupt("return");case 3:if(n=F(),Object.keys(n).length){e.next=7;break}return(0,N.N)("Update at least one field!","failure"),e.abrupt("return");case 7:return e.next=9,w(o?(0,f.Tk)({contactId:o.contactId,updData:n}):(0,f.uK)((0,C.Z)({id:(0,j.x0)()},n)));case 9:if(!(t=e.sent).error){e.next=13;break}return(0,N.N)(t.payload.message,"failure"),e.abrupt("return");case 13:H(),i();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":m(a);break;case"number":b(a);break;default:return}},H=function(){m(""),b("")};return(0,k.jsxs)(g.Z,{buttonCaption:"".concat(o?"Update":"Add"," contact"),onSubmit:I,children:[(0,k.jsx)(y.Z,{label:"Name",type:"text",name:"name",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:T,value:d}),(0,k.jsx)(y.Z,{label:"Number",type:"tel",name:"number",pattern:"^(\\+?[0-9.\\(\\)\\-\\s]*)$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:T,value:_})]})},w="Confirm_confirm__8ag-K",F="Confirm_confirm__head__6AWcP",I="Confirm_confirm__text__qdNcH",T="Confirm_confirm__buttonBox__8VL3r",H="Confirm_confirm__button__px4ma",L={yes:!0,no:!1},M=function(e){var n=e.contactName,t=(e.contactId,e.onCloseModal),a=e.confirmed,s=function(){var e=(0,r.Z)(c().mark((function e(n){var r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.target.name,!L[r]){e.next=4;break}return e.next=4,a();case 4:t();case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,k.jsxs)("div",{className:w,children:[(0,k.jsx)("h3",{className:F,children:"Confirm"}),(0,k.jsx)("p",{className:I,children:"Do you really want to delete the contact ".concat(n,"?")}),(0,k.jsxs)("div",{className:T,onClick:s,children:[(0,k.jsx)("button",{className:H,name:"yes",children:"Yes"}),(0,k.jsx)("button",{className:H,name:"no",children:"No"})]})]})},A=t(5323),R=function(e){var n=e.name,t=e.number,o=e.contactId,x=(0,_.Lr)(),C=x.showModal,j=x.toggleAnimatedModal,y=x.backdropRef,g=x.contentRef,w=(0,a.useState)(null),F=(0,s.Z)(w,2),I=F[0],T=F[1];console.log(I);var H=(0,h.I0)(),L=(0,h.v9)(p),R=(0,h.v9)(v),z=function(e){var n=e.currentTarget,t=n.tagName,a=n.name;"BUTTON"===t&&(T(a),j())},B=function(){var e=(0,r.Z)(c().mark((function e(){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H((0,f.GK)(o));case 2:if(!(n=e.sent).error){e.next=6;break}return(0,N.N)(n.payload.message,"failure"),e.abrupt("return");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,k.jsxs)("li",{className:l,children:[(0,k.jsxs)("div",{children:[(0,k.jsxs)("p",{className:u,children:["Name: ",n]}),(0,k.jsxs)("p",{className:u,children:["Number: ",t]})]}),(0,k.jsxs)("div",{className:d,children:[(0,k.jsx)("button",{disabled:L,type:"button",name:"update",className:m,onClick:z,children:(0,k.jsx)(i.tU3,{})}),(0,k.jsx)("button",{disabled:L,type:"button",name:"delete",className:m,onClick:z,children:L&&o===R?(0,k.jsx)(A.a,{size:"20px",color:"var(--primary-dark-color)",secondaryColor:"var(--primary-dark-color)"}):(0,k.jsx)(i.Xm5,{})})]}),C&&(0,k.jsxs)(b.Z,{onClose:j,backdropRef:y,contentRef:g,children:["delete"===I&&(0,k.jsx)(M,{contactName:n,contactId:o,confirmed:B,onCloseModal:j}),"update"===I&&(0,k.jsx)(Z,{onCloseModal:j,currentContact:{name:n,number:t,contactId:o}})]})]})},z="ContactList_contactList__UFVCg",B=function(e){return e.filter},S=function(){var e=(0,h.v9)(x).items,n=(0,h.v9)(B);return(0,k.jsx)("ul",{className:z,children:e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).map((function(e){var n=e.id,t=e.name,a=e.number;return(0,k.jsx)(R,{name:t,number:a,contactId:n},n)}))})},U="ControlPanel_controlPanelBox__HVdks",P="AddButton_addButton__err1-",V=t(6856),D=function(){var e=(0,_.Lr)(),n=e.showModal,t=e.toggleAnimatedModal,a=e.backdropRef,r=e.contentRef;return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("button",{className:P,onClick:t,children:(0,k.jsx)(V.$3V,{size:40})}),n&&(0,k.jsx)(b.Z,{onClose:t,backdropRef:a,contentRef:r,children:(0,k.jsx)(Z,{onCloseModal:t})})]})},J=function(){return(0,k.jsx)("div",{className:U,children:(0,k.jsx)(D,{})})},O="Filter_filterBox__A-UPt",q=t(3797),$=function(){var e=(0,h.v9)(B),n=(0,h.I0)();return(0,k.jsx)("div",{className:O,children:(0,k.jsx)(y.Z,{label:"Find contacts by name",type:"text",name:"filter",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(e){var t=e.target.value;return n((0,q.M)(t))},value:e})})},K=t(2819),E="Message_message__fh13J",W=function(e){var n=e.message;return(0,k.jsx)("p",{className:E,children:n})},X=function(){var e=(0,h.I0)(),n=(0,h.v9)(x),t=n.items,r=n.isLoading,s=n.error;return(0,a.useEffect)((function(){e((0,f.yF)())}),[e]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("h1",{className:"visually-hidden",children:"Contacts"}),(0,k.jsx)(K.Z,{headText:"Control panel",cssHeadClass:"visually-hidden",children:(0,k.jsx)(J,{})}),(0,k.jsx)(K.Z,{headText:"Filter",cssHeadClass:"visually-hidden",children:(0,k.jsx)($,{})}),(0,k.jsx)(K.Z,{headText:"Contact list",cssHeadClass:"visually-hidden",children:s||r||t.length?(0,k.jsx)(S,{}):(0,k.jsx)(W,{message:"The contact list is empty!"})})]})}}}]);
//# sourceMappingURL=811.1be0258c.chunk.js.map