"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[280],{7303:function(e,n,t){t.d(n,{Af:function(){return s},Gz:function(){return l},hF:function(){return d},oW:function(){return o},pT:function(){return i},xU:function(){return c},zh:function(){return u}});var a=t(6916),r=t(6368),s=function(e){return e.contacts.items},o=function(e){return e.contacts.isDeleting},c=function(e){return e.contacts.isLoading},i=function(e){return e.contacts.isFetching},u=function(e){return e.contacts.error},l=function(e){return e.contacts.currentContactId},d=(0,a.P1)([r.A,s],(function(e,n){return{items:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})),allLength:n.length}}))},6368:function(e,n,t){t.d(n,{A:function(){return a}});var a=function(e){return e.filter}},2745:function(e,n,t){t.d(n,{Z:function(){return h}});var a=t(5861),r=t(9439),s=t(7757),o=t.n(s),c=t(2791),i="Form_form__e1yzW",u="Form_button__8NOIT",l=t(9434),d=t(7303),m=t(5323),f=t(184),h=function(e){var n=e.buttonCaption,t=e.onSubmit,s=e.children,h=(0,c.useState)(!1),x=(0,r.Z)(h,2),p=x[0],v=x[1],_=(0,l.v9)(d.xU),C=function(){var e=(0,a.Z)(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),v(!0),e.next=4,t();case 4:v(!1);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,f.jsxs)("form",{className:i,onSubmit:C,children:[s,(0,f.jsxs)("button",{disabled:p,className:u,type:"submit",children:[n,_&&(0,f.jsx)(m.a,{size:"30px",strokeSize:4,color:"var(--primary-dark-color)",secondaryColor:'"var(--primary-dark-color)"'})]})]})}},9602:function(e,n,t){t.d(n,{Z:function(){return i}});var a=t(2791),r=t(5984),s="Input_label__NXpCD",o="Input_input__E5rzA",c=t(184),i=function(e){var n=e.onChange,t=e.type,i=void 0===t?"text":t,u=e.name,l=void 0===u?"":u,d=e.label,m=e.title,f=e.pattern,h=e.required,x=void 0===h||h,p=e.minLength,v=e.value,_=(0,a.useRef)((0,r.x0)());return(0,c.jsxs)(c.Fragment,{children:[d&&(0,c.jsx)("label",{htmlFor:_.current,className:s,children:d}),(0,c.jsx)("input",{id:_.current,className:o,type:i,name:l,value:v,pattern:f,title:m,required:x,onChange:n,minLength:p})]})}},2819:function(e,n,t){t.d(n,{Z:function(){return l}});var a="Head_head__UoJYS",r=t(184),s=function(e){var n=e.headText,t=e.headType,s=void 0===t?"h1":t,o=e.cssClass;return(0,r.jsx)(s,{className:null!==o&&void 0!==o?o:a,children:n})},o="Section_section__Z2PLw",c=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,c=e.headType,i=void 0===c?"h2":c,u=e.cssHeadClass,l=e.children;return(0,r.jsxs)("section",{className:o,children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:u}),l]})},i="Container_container__VVOCq",u=function(e){var n=e.children;return(0,r.jsx)("div",{className:i,children:n})},l=function(e){var n=e.isHeadHas,t=void 0===n||n,a=e.headText,o=e.headType,i=void 0===o?"h2":o,l=e.cssHeadClass,d=e.children;return(0,r.jsx)(c,{isHeadHas:!1,children:(0,r.jsxs)(u,{children:[t&&(0,r.jsx)(s,{headText:a,headType:i,cssClass:l}),d]})})}},2280:function(e,n,t){t.r(n),t.d(n,{default:function(){return W}});var a=t(2791),r=t(5323),s=t(5861),o=t(9439),c=t(7757),i=t.n(c),u=t(6355),l="ContactItem_contactItem__Z4FuP",d="ContactItem_caption__9hsJU",m="ContactItem_buttonContainer__HxbMT",f="ContactItem_button__IRFBz",h=t(9434),x=t(8115),p=t(7303),v=t(7449),_=t(696),C=t(1413),b=t(5984),j=t(4133),N=t(9602),g=t(2745),y=t(184),k=function(e){var n,t,r=e.currentContact,c=e.onCloseModal,u=(0,a.useState)(null!==(n=null===r||void 0===r?void 0:r.name)&&void 0!==n?n:""),l=(0,o.Z)(u,2),d=l[0],m=l[1],f=(0,a.useState)(null!==(t=null===r||void 0===r?void 0:r.number)&&void 0!==t?t:""),v=(0,o.Z)(f,2),_=v[0],k=v[1],F=(0,h.v9)(p.Af),T=(0,h.I0)(),Z=function(){for(var e={},n=0,t=Object.entries({name:d,number:_});n<t.length;n++){var a=t[n];(null===r||void 0===r?void 0:r[a[0]])!==a[1]&&(e[a[0]]=a[1])}return e},A=function(){var e=(0,s.Z)(i().mark((function e(){var n,t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F.some((function(e){var n=e.name;return n.toLowerCase()===d.toLowerCase()&&n.toLowerCase()!==(null===r||void 0===r?void 0:r.name.toLowerCase())}))){e.next=3;break}return(0,j.N)("".concat(d," is already in contact"),"warning"),e.abrupt("return");case 3:if(n=Z(),Object.keys(n).length){e.next=7;break}return(0,j.N)("Update at least one field!","failure"),e.abrupt("return");case 7:return e.next=9,T(r?(0,x.Tk)({contactId:r.contactId,updData:n}):(0,x.uK)((0,C.Z)({id:(0,b.x0)()},n)));case 9:if(!(t=e.sent).error){e.next=13;break}return(0,j.N)(t.payload.message,"failure"),e.abrupt("return");case 13:I(),c();case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(e){var n=e.target,t=n.name,a=n.value;switch(t){case"name":m(a);break;case"number":k(a);break;default:return}},I=function(){m(""),k("")};return(0,y.jsxs)(g.Z,{buttonCaption:"".concat(r?"Update":"Add"," contact"),onSubmit:A,children:[(0,y.jsx)(N.Z,{label:"Name",type:"text",name:"name",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:w,value:d}),(0,y.jsx)(N.Z,{label:"Number",type:"tel",name:"number",pattern:"^(\\+?[0-9.\\(\\)\\-\\s]*)$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:w,value:_})]})},F="Confirm_confirm__8ag-K",T="Confirm_confirm__head__6AWcP",Z="Confirm_confirm__text__qdNcH",A="Confirm_confirm__buttonBox__8VL3r",w="Confirm_confirm__button__px4ma",I=function(e){var n=e.contactName,t=e.onConfirmed,a=e.onNotConfirmed;return(0,y.jsxs)("div",{className:F,children:[(0,y.jsx)("h3",{className:T,children:"Confirm"}),(0,y.jsx)("p",{className:Z,children:"Do you really want to delete the contact ".concat(n,"?")}),(0,y.jsxs)("div",{className:A,children:[(0,y.jsx)("button",{className:w,onClick:t,children:"Yes"}),(0,y.jsx)("button",{className:w,onClick:a,children:"No"})]})]})},z=function(e){var n=e.name,t=e.number,c=e.contactId,C=(0,v.J)(),b=C.showModal,N=C.backdropRef,g=C.contentRef,F=C.onAnimationEnd,T=C.setAfterCloseAnimationHandler,Z=C.onToggleModal,A=(0,a.useState)(null),w=(0,o.Z)(A,2),z=w[0],H=w[1],L=(0,h.I0)(),M=(0,h.v9)(p.oW),S=(0,h.v9)(p.Gz),R=function(e){var n=e.currentTarget,t=n.tagName,a=n.name;"BUTTON"===t&&(H(a),Z())},U=function(){var e=(0,s.Z)(i().mark((function e(){var n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L((0,x.GK)(c));case 2:if(!(n=e.sent).error){e.next=6;break}return(0,j.N)(n.payload.message,"failure"),e.abrupt("return");case 6:(0,j.N)("Successful!","succsess");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,y.jsxs)("li",{className:l,children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("p",{className:d,children:["Name: ",n]}),(0,y.jsxs)("p",{className:d,children:["Number: ",t]})]}),(0,y.jsxs)("div",{className:m,children:[(0,y.jsx)("button",{disabled:M,type:"button",name:"update",className:f,onClick:R,children:(0,y.jsx)(u.tU3,{})}),(0,y.jsx)("button",{disabled:M,type:"button",name:"delete",className:f,onClick:R,children:M&&c===S?(0,y.jsx)(r.a,{size:"20px",color:"var(--primary-dark-color)",secondaryColor:"var(--primary-dark-color)"}):(0,y.jsx)(u.Xm5,{})})]}),b&&(0,y.jsxs)(_.Z,{onClose:Z,onAnimationEnd:F,backdropRef:N,contentRef:g,children:["delete"===z&&(0,y.jsx)(I,{contactName:n,onConfirmed:function(){T(U),Z()},onNotConfirmed:Z}),"update"===z&&(0,y.jsx)(k,{onCloseModal:Z,currentContact:{name:n,number:t,contactId:c}})]})]})},H="Message_message__fh13J",L=function(e){var n=e.message,t=e.children;return(0,y.jsx)("p",{className:H,children:null!==n&&void 0!==n?n:t})},M="ContactList_contactList__UFVCg",S=function(){var e=(0,h.v9)(p.hF),n=e.items,t=e.allLength,a=(0,h.v9)(p.pT),s=(0,h.v9)(p.zh);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(L,{children:[s&&s.message+"\n",!a&&!s&&!t&&"The contact list is empty!\n",!n.length&&!!t&&"No matches found!\n"]}),a?(0,y.jsx)(r.a,{}):(0,y.jsx)("ul",{className:M,children:n.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,y.jsx)(z,{name:t,number:a,contactId:n},n)}))})]})},R="ControlPanel_controlPanelBox__HVdks",U="AddButton_addButton__err1-",B=t(6856),P=function(){var e=(0,v.J)(),n=e.showModal,t=e.backdropRef,a=e.contentRef,r=e.onAnimationEnd,s=e.onToggleModal;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("button",{className:U,onClick:s,children:(0,y.jsx)(B.$3V,{size:40})}),n&&(0,y.jsx)(_.Z,{onClose:s,onAnimationEnd:r,backdropRef:t,contentRef:a,children:(0,y.jsx)(k,{onCloseModal:s})})]})},J=function(){return(0,y.jsx)("div",{className:R,children:(0,y.jsx)(P,{})})},E="Filter_filterBox__A-UPt",V=t(3797),D=t(6368),O=function(){var e=(0,h.v9)(D.A),n=(0,h.I0)();return(0,y.jsx)("div",{className:E,children:(0,y.jsx)(N.Z,{label:"Find contacts by name",type:"text",name:"filter",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(e){var t=e.target.value;return n((0,V.M)(t))},value:e})})},q=t(2819),W=function(){var e=(0,h.I0)(),n=(0,h.v9)(p.Af),t=(0,h.v9)(p.pT),r=(0,h.v9)(p.zh);return(0,a.useEffect)((function(){e((0,x.yF)())}),[e]),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h1",{className:"visually-hidden",children:"Contacts"}),(0,y.jsx)(q.Z,{headText:"Control panel",cssHeadClass:"visually-hidden",children:(0,y.jsx)(J,{})}),(0,y.jsx)(q.Z,{headText:"Filter",cssHeadClass:"visually-hidden",children:(0,y.jsx)(O,{})}),(0,y.jsx)(q.Z,{headText:"Contact list",cssHeadClass:"visually-hidden",children:r||t||n.length?(0,y.jsx)(S,{}):(0,y.jsx)(L,{message:"The contact list is empty!"})})]})}}}]);
//# sourceMappingURL=280.4da6de57.chunk.js.map