"use strict";(self.webpackChunkphonebook_frontend=self.webpackChunkphonebook_frontend||[]).push([[408],{2745:function(n,e,t){t.d(e,{Z:function(){return o}});var a="Form_form__e1yzW",r="Form_button__8NOIT",s=t(184),o=function(n){var e=n.buttonCaption,t=n.onSubmit,o=n.children;return(0,s.jsxs)("form",{className:a,onSubmit:t,children:[o,(0,s.jsx)("button",{className:r,type:"submit",children:e})]})}},9602:function(n,e,t){t.d(e,{Z:function(){return c}});var a=t(2791),r=t(5984),s="Input_label__NXpCD",o="Input_input__E5rzA",i=t(184),c=function(n){var e=n.onChange,t=n.type,c=void 0===t?"text":t,l=n.name,u=void 0===l?"":l,d=n.label,m=n.title,h=n.pattern,p=n.required,x=void 0===p||p,f=n.minLength,v=n.value,_=(0,a.useRef)((0,r.x0)());return(0,i.jsxs)(i.Fragment,{children:[d&&(0,i.jsx)("label",{htmlFor:_.current,className:s,children:d}),(0,i.jsx)("input",{id:_.current,className:o,type:c,name:u,value:v,pattern:h,title:m,required:x,onChange:e,minLength:f})]})}},8408:function(n,e,t){t.r(e),t.d(e,{default:function(){return E}});var a=t(2791),r=t(9439),s=t(6355),o="ContactItem_contactItem__Z4FuP",i="ContactItem_caption__9hsJU",c="ContactItem_buttonContainer__HxbMT",l="ContactItem_button__IRFBz",u=t(9434),d=t(8115),m=t(9321),h="ModalContent_modalContent__oPvfG",p="CloseButton_closeButton__n+3F+",x=t(1213),f=t(184),v=function(n){var e=n.onClick;return(0,f.jsx)("button",{className:p,onClick:e,children:(0,f.jsx)(x.$iT,{size:24})})},_=function(n){var e=n.onClose,t=n.children;return(0,f.jsxs)("div",{className:h,children:[(0,f.jsx)(v,{onClick:e}),t]})},j=t(1413),C=t(5861),b=t(7757),N=t.n(b),F=t(5984),y=function(n){return n.contacts},g=t(4133),Z=t(9602),k=t(2745),I=function(n){var e,t,s=n.currentContact,o=n.onCloseModal,i=(0,a.useState)(null!==(e=null===s||void 0===s?void 0:s.name)&&void 0!==e?e:""),c=(0,r.Z)(i,2),l=c[0],m=c[1],h=(0,a.useState)(null!==(t=null===s||void 0===s?void 0:s.number)&&void 0!==t?t:""),p=(0,r.Z)(h,2),x=p[0],v=p[1],_=(0,u.v9)(y).items,b=(0,u.I0)(),I=function(){for(var n={},e=0,t=Object.entries({name:l,number:x});e<t.length;e++){var a=t[e];(null===s||void 0===s?void 0:s[a[0]])!==a[1]&&(n[a[0]]=a[1])}return n},w=function(){var n=(0,C.Z)(N().mark((function n(e){var t,a;return N().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),!_.some((function(n){var e=n.name;return e.toLowerCase()===l.toLowerCase()&&e.toLowerCase()!==(null===s||void 0===s?void 0:s.name.toLowerCase())}))){n.next=4;break}return(0,g.l)("".concat(l," is already in contact"),"reportWarning"),n.abrupt("return");case 4:return t=I(),n.next=7,b(s?(0,d.Tk)({contactId:s.contactId,updData:t}):(0,d.uK)((0,j.Z)({id:(0,F.x0)()},t)));case 7:if(!(a=n.sent).error){n.next=11;break}return(0,g.N)(a.payload.message,"failure",5e3),n.abrupt("return");case 11:L(),o();case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),A=function(n){var e=n.target,t=e.name,a=e.value;switch(t){case"name":m(a);break;case"number":v(a);break;default:return}},L=function(){m(""),v("")};return(0,f.jsxs)(k.Z,{buttonCaption:"".concat(s?"Update":"Add"," contact"),onSubmit:w,children:[(0,f.jsx)(Z.Z,{label:"Name",type:"text",name:"name",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:A,value:l}),(0,f.jsx)(Z.Z,{label:"Number",type:"tel",name:"number",pattern:"^(\\+?[0-9.\\(\\)\\-\\s]*)$",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",onChange:A,value:x})]})},w=function(n){var e=n.name,t=n.number,h=n.contactId,p=(0,a.useState)(!1),x=(0,r.Z)(p,2),v=x[0],j=x[1],C=(0,u.I0)(),b=function(){return j((function(n){return!n}))};return(0,f.jsxs)("li",{className:o,children:[(0,f.jsxs)("div",{children:[(0,f.jsxs)("p",{className:i,children:["Name: ",e]}),(0,f.jsxs)("p",{className:i,children:["Number: ",t]})]}),(0,f.jsxs)("div",{className:c,children:[(0,f.jsx)("button",{type:"button",className:l,onClick:b,children:(0,f.jsx)(s.tU3,{})}),(0,f.jsx)("button",{type:"button",className:l,onClick:function(){return C((0,d.GK)(h))},children:(0,f.jsx)(s.Xm5,{})})]}),v&&(0,f.jsx)(m.Z,{onClose:b,children:(0,f.jsx)(_,{onClose:b,children:(0,f.jsx)(I,{onCloseModal:b,currentContact:{name:e,number:t,contactId:h}})})})]})},A="ContactList_contactList__UFVCg",L=function(n){return n.filter},z=function(){var n=(0,u.v9)(y).items,e=(0,u.v9)(L);return(0,f.jsx)("ul",{className:A,children:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())})).map((function(n){var e=n.id,t=n.name,a=n.number;return(0,f.jsx)(w,{name:t,number:a,contactId:e},e)}))})},B="ControlPanel_controlPanelBox__HVdks",M="AddButton_addButton__err1-",S=t(6856),P=function(){var n=(0,a.useState)(!1),e=(0,r.Z)(n,2),t=e[0],s=e[1],o=function(){return s((function(n){return!n}))};return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("button",{className:M,onClick:o,children:(0,f.jsx)(S.$3V,{size:40})}),t&&(0,f.jsx)(m.Z,{onClose:o,children:(0,f.jsx)(_,{onClose:o,children:(0,f.jsx)(I,{onCloseModal:o})})})]})},T=function(){return(0,f.jsx)("div",{className:B,children:(0,f.jsx)(P,{})})},U="Filter_filterBox__A-UPt",V=t(3797),$=function(){var n=(0,u.v9)(L),e=(0,u.I0)();return(0,f.jsx)("div",{className:U,children:(0,f.jsx)(Z.Z,{label:"Find contacts by name",type:"text",name:"filter",pattern:"^[A-Za-z\\u0080-\\uFFFF\\- ']+$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",onChange:function(n){var t=n.target.value;return e((0,V.M)(t))},value:n})})},q="Section_section__Z2PLw",R=function(n){var e=n.children;return(0,f.jsx)("section",{className:q,children:e})},D="Container_container__VVOCq",J=function(n){var e=n.children;return(0,f.jsx)("div",{className:D,children:e})},O=t(9599),E=function(){var n=(0,u.I0)(),e=(0,u.v9)(y),t=e.items,r=e.isLoading,s=e.error;return(0,a.useEffect)((function(){n((0,d.yF)())}),[n]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h1",{className:"visually-hidden",children:"Contacts"}),(0,f.jsx)(R,{children:(0,f.jsxs)(J,{children:[(0,f.jsx)("h2",{className:"visually-hidden",children:"Control panel"}),(0,f.jsx)(T,{})]})}),(0,f.jsx)(R,{children:(0,f.jsxs)(J,{children:[(0,f.jsx)("h2",{className:"visually-hidden",children:"Filter"}),(0,f.jsx)($,{})]})}),(0,f.jsx)(R,{children:(0,f.jsxs)(J,{children:[(0,f.jsx)("h2",{className:"visually-hidden",children:"Contact list"}),s||r||t.length?(0,f.jsx)(z,{}):(0,f.jsx)("p",{className:O.Z.info,children:"The contact list is empty!"})]})})]})}},9599:function(n,e){e.Z={app:"App_app__6Ra7L",appTitle:"App_appTitle__R-ohI",info:"App_info__qU+g4"}}}]);
//# sourceMappingURL=408.e7581ae3.chunk.js.map